<view class="history-page">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="header-back-btn" bindtap="goBack">
      <text class="back-icon">â€¹</text>
      <text class="back-text">è¿”å›</text>
    </view>
  </view>

  <!-- å†å²è®°å½•åˆ—è¡¨ -->
  <view class="history-list">
    <block wx:for="{{recordHistory}}" wx:key="date">
      <view class="history-item">
        <view class="date-section">
          <text class="date">{{item.displayDate}}</text>
          <text class="weekday">{{item.weekday}}</text>
        </view>
        
        <view class="record-content">
          <!-- æƒ…ç»ªè®°å½• -->
          <view class="record-item" wx:if="{{item.emotion}}">
            <text class="record-label">æƒ…ç»ª:</text>
            <text class="record-value">{{item.emotion}}</text>
            <text class="record-emoji">
              <text wx:if="{{item.emotionLevel === 1}}">ğŸ˜Š</text>
              <text wx:if="{{item.emotionLevel === 2}}">ğŸ˜</text>
              <text wx:if="{{item.emotionLevel === 3}}">ğŸ˜¢</text>
            </text>
          </view>
          
          <!-- è¿åŠ¨è®°å½• - æ ¹æ®è¿åŠ¨ç±»å‹æ˜¾ç¤ºå¯¹åº”å›¾æ ‡ -->
          <view class="record-item" wx:if="{{item.exercise}}">
            <text class="record-label">è¿åŠ¨:</text>
            <text class="record-value">{{item.exercise}}</text>
            <text class="record-emoji">
              <text wx:if="{{item.exercise === 'ä½äº30åˆ†é’Ÿ'}}">ğŸª‘</text>
              <text wx:elif="{{item.exercise === '30åˆ†é’Ÿ-1å°æ—¶'}}">ğŸš¶</text>
              <text wx:elif="{{item.exercise === '1-2å°æ—¶'}}">ğŸƒ</text>
              <text wx:elif="{{item.exercise === 'å¤§äº2å°æ—¶'}}">ğŸŒŸ</text>
              <text wx:else>ğŸƒ</text>
            </text>
          </view>
          
          <!-- ç¡çœ è®°å½• -->
          <view class="record-item" wx:if="{{item.sleep}}">
            <text class="record-label">ç¡çœ :</text>
            <text class="record-value">{{item.sleep}}</text>
            <text class="record-emoji">
              <text wx:if="{{item.sleepLevel === 1}}">ğŸ˜«</text>
              <text wx:if="{{item.sleepLevel === 2}}">ğŸ˜Š</text>
              <text wx:if="{{item.sleepLevel === 3}}">ğŸ¤©</text>
            </text>
          </view>
          
          <!-- ç”µå­äº§å“è®°å½• - æ ¹æ®æ—¶é•¿æ˜¾ç¤ºå¯¹åº”å›¾æ ‡ -->
          <view class="record-item" wx:if="{{item.screenTime}}">
            <text class="record-label">ç”µå­äº§å“:</text>
            <text class="record-value">{{item.screenTime}}åˆ†é’Ÿ</text>
            <text class="record-emoji">
              <text wx:if="{{item.screenTime === 0}}">ğŸ‘ï¸</text>
              <text wx:elif="{{item.screenTime === 15}}">ğŸ‘€</text>
              <text wx:elif="{{item.screenTime === 45}}">ğŸ¥º</text>
              <text wx:elif="{{item.screenTime === 90}}">ğŸ˜µ</text>
              <text wx:else>ğŸ“±</text>
            </text>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{recordHistory.length === 0}}">
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-title">è¿˜æ²¡æœ‰è®°å½•å†å²</text>
    <text class="empty-desc">ç‚¹å‡»è¿”å›ï¼Œåˆ°é¦–é¡µ[ä»Šæ—¥å¿«é€Ÿè®°å½•]è®°å½•çŠ¶æ€å§</text>
  </view>
</view>