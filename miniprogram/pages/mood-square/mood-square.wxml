<view class="mood-square">
  <view class="header">
  <view class="header-back-btn" bindtap="goBack">
    <text class="back-icon">â€¹</text>
    <text class="back-text">è¿”å›</text>
  </view>
</view>

  <!-- æœç´¢æ  - ä¿®æ”¹ä¸ºåŒ…å«æ¸…ç©ºæŒ‰é’® -->
  <view class="search-bar">
    <input 
      class="search-input" 
      placeholder="æœç´¢å¿ƒæƒ…æ—¥è®°..." 
      value="{{searchKeyword}}"
      bindinput="onSearchInput"
    />
    <view class="search-actions">
      <text wx:if="{{searchKeyword}}" class="clear-btn" bindtap="clearSearch">Ã—</text>
      <text class="search-icon" bindtap="performSearch">ğŸ”</text>
    </view>
  </view>

  <!-- æœç´¢ç»“æœæç¤º -->
  <view class="search-result-tip" wx:if="{{searchKeyword}}">
    <text>æœç´¢"{{searchKeyword}}" Â· æ‰¾åˆ°{{moodList.length}}æ¡ç»“æœ</text>
  </view>

  <!-- å¿ƒæƒ…æ—¥è®°åˆ—è¡¨ -->
  <scroll-view class="mood-list" scroll-y>
    <block wx:for="{{moodList}}" wx:key="id">
      <view class="mood-card">
        <view class="card-header">
          <text class="author">{{item.author}}</text>
          <text class="date">{{item.date}}</text>
        </view>
        
        <view class="mood-indicator">
          <text class="mood-icon">{{item.moodIcon}}</text>
          <text class="mood-type">{{item.moodType}}</text>
        </view>
        
        <view class="card-content">
          <text class="mood-text">{{item.content}}</text>
        </view>
        
        <view class="card-tags" wx:if="{{item.tags && item.tags.length}}">
          <text class="tag" wx:for="{{item.tags}}" wx:key="*this">{{item}}</text>
        </view>
        
        <view class="card-actions">
          <view class="hug-action" bindtap="sendHug" data-id="{{item.id}}">
            <text class="hug-icon">ğŸ¤—</text>
            <text class="hug-count">æŠ±æŠ± {{item.hugCount || 0}}</text>
          </view>
        </view>
      </view>
    </block>
  </scroll-view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{moodList.length === 0}}">
    <text class="empty-icon">ğŸ’­</text>
    <text class="empty-title" wx:if="{{searchKeyword}}">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„å¿ƒæƒ…æ—¥è®°</text>
    <text class="empty-title" wx:else>è¿˜æ²¡æœ‰å…¬å¼€çš„å¿ƒæƒ…æ—¥è®°</text>
    <text class="empty-desc" wx:if="{{searchKeyword}}">æ¢ä¸ªå…³é”®è¯è¯•è¯•å§</text>
    <text class="empty-desc" wx:else>å»å†™ç¬¬ä¸€ç¯‡å¿ƒæƒ…æ—¥è®°å§</text>
  </view>
</view>