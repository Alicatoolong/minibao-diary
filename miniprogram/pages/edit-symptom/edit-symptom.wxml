<view class="edit-container">
  <!-- æƒ…å†µé€‰æ‹©éƒ¨åˆ† -->
  <view class="form-section">
    <text class="section-title">é€‰æ‹©æƒ…å†µç±»å‹</text>
    <view class="symptom-options">
      <block wx:for="{{symptomOptions}}" wx:key="value">
        <view 
          class="symptom-option {{selectedSymptom === item.value ? 'selected' : ''}}"
          bindtap="selectSymptom"
          data-value="{{item.value}}"
        >
          <text class="option-text">{{item.label}}</text>
          <text class="option-desc">{{item.desc}}</text>
        </view>
      </block>
    </view>
  </view>

  <!-- åœ¨æƒ…å†µé€‰æ‹©åŒºåŸŸæ·»åŠ åˆ†ç±»æç¤º -->
  <view 
    class="symptom-category-hint" 
    wx:if="{{selectedSymptom != 'asymptomatic' && selectedSymptom != 'other'}}"
  >
    <block wx:for="{{symptomOptions}}" wx:key="value">
      <block wx:if="{{item.value === selectedSymptom}}">
        <view 
          class="category-tag" 
          style="background: {{categoryInfo[item.category].color}}20; border-color: {{categoryInfo[item.category].color}}"
        >
          <text 
            class="category-name" 
            style="color: {{categoryInfo[item.category].color}}"
          >
            {{categoryInfo[item.category].name}}
          </text>
          <text class="weight-badge">æƒé‡{{item.weight}}</text>
        </view>
        <text class="category-desc">
          {{categoryInfo[item.category].desc}}
        </text>
      </block>
    </block>
  </view>
    
  <!-- å…¶ä»–æƒ…å†µè¾“å…¥ -->
  <view wx:if="{{showOtherInput}}" class="other-input-container">
    <input 
      class="other-input"
      value="{{otherSymptomText}}"
      placeholder="è¯·è¾“å…¥å…¶ä»–æƒ…å†µæè¿°"
      bindinput="onOtherSymptomInput"
    />
  </view>

  <!-- ä¸¥é‡ç¨‹åº¦éƒ¨åˆ† -->
  <view class="form-section">
    <text class="section-title">ä¸¥é‡ç¨‹åº¦</text>
    <view class="severity-options">
      <block wx:for="{{severityLevels}}" wx:key="level">
        <view 
          class="severity-option {{severityData.level === item.level ? 'selected' : ''}}"
          bindtap="selectSeverity"
          data-level="{{item.level}}"
        >
          <text class="severity-icon">{{item.icon}}</text>
          <text class="severity-label">{{item.label}}</text>
          <text class="severity-desc">{{item.desc}}</text>
        </view>
      </block>
    </view>
  </view>

  <!-- æƒ…å†µè¯¦æƒ…éƒ¨åˆ† -->
  <view class="form-section">
    <text class="section-title">æƒ…å†µè¯¦æƒ…</text>
    <view class="input-group">
      <view class="input-item">
        <text class="input-label">å‘ä½œé¢‘ç‡</text>
        <input 
          class="input-field"
          value="{{severityData.frequency}}"
          placeholder="å¦‚ï¼šæ¯å¤©3-5æ¬¡"
          bindinput="onFrequencyInput"
        />
      </view>
      <view class="input-item">
        <text class="input-label">æŒç»­æ—¶é—´</text>
        <input 
          class="input-field"
          value="{{severityData.duration}}"
          placeholder="å¦‚ï¼šæ¯æ¬¡å‡ ç§’é’Ÿ"
          bindinput="onDurationInput"
        />
      </view>
    </view>
  </view>

  <!-- æƒ…å†µæè¿°éƒ¨åˆ† -->
  <view class="form-section">
    <text class="section-title">æƒ…å†µæè¿°</text>
    <textarea 
      class="description-input"
      value="{{severityData.description}}"
      placeholder="è¯·è¯¦ç»†æè¿°æƒ…å†µè¡¨ç°..."
      bindinput="onDescriptionInput"
      maxlength="200"
    ></textarea>
    <view class="char-count">
  {{severityData.description ? severityData.description.length : 0}}/200
</view>
  </view>

  <!-- è‡ªåŠ¨ä¿å­˜æç¤º -->
  <view class="auto-save-hint">
    <text class="hint-icon">ğŸ’¾</text>
    <text class="hint-text">ä¿®æ”¹åè‡ªåŠ¨ä¿å­˜</text>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <view class="btn secondary" bindtap="cancelEdit">å–æ¶ˆ</view>
    <view class="btn primary" bindtap="saveSymptom">ä¿å­˜è®°å½•</view>
  </view>
</view>